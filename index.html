<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Predictor Pro v70 - Full League Analytics</title>
    <style>
        :root { 
            --primary: #00ff88; --bg: #0d1117; --card: rgba(22, 27, 34, 0.98); 
            --border: #30363d; --text: #c9d1d9; --accent: #00d2ff; --bomb: #ff4444; --gold: #ffb703;
        }
        body { font-family: 'Segoe UI', sans-serif; background: radial-gradient(circle at top, #1a1f2e 0%, #0d1117 100%); color: var(--text); padding: 10px; margin: 0; display: flex; justify-content: center; min-height: 100vh; }
        .container { width: 100%; max-width: 600px; animation: fadeIn 0.3s ease-out; }
        .card { background: var(--card); padding: 25px; border-radius: 30px; border: 1px solid var(--border); box-shadow: 0 20px 60px rgba(0,0,0,0.6); backdrop-filter: blur(12px); }
        .section-box { background: rgba(255, 255, 255, 0.02); border: 1px solid var(--border); border-radius: 20px; padding: 15px; margin-bottom: 20px; }
        
        /* Analysis Cards */
        .match-item { background: rgba(255, 255, 255, 0.03); padding: 18px; border-radius: 22px; margin-bottom: 15px; border-left: 5px solid var(--primary); position: relative; }
        .date-tag { position: absolute; top: 12px; right: 15px; font-size: 0.65rem; color: var(--accent); font-weight: 800; border: 1px solid var(--accent); padding: 2px 6px; border-radius: 5px; }
        
        /* Stats Breakdown */
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 12px 0; }
        .team-pane { background: rgba(255, 255, 255, 0.05); padding: 10px; border-radius: 12px; border: 1px solid var(--border); }
        .team-title { font-size: 0.75rem; font-weight: 900; color: #fff; display: block; margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .s-line { display: flex; justify-content: space-between; font-size: 0.7rem; margin-top: 3px; }
        .s-val { color: var(--accent); font-weight: 800; }

        /* Prediction UI */
        .pressure-info { background: rgba(255,183,3,0.08); border: 1px solid rgba(255,183,3,0.3); border-radius: 10px; padding: 8px; font-size: 0.7rem; text-align: center; margin-top: 10px; }
        .tip-box { background: rgba(0, 255, 136, 0.1); border: 1px solid var(--primary); border-radius: 12px; padding: 10px; margin-top: 10px; text-align: center; }
        .tip-txt { font-size: 1.1rem; font-weight: 900; color: #fff; }

        select, button { width: 100%; padding: 14px; border-radius: 12px; border: 1px solid var(--border); background: #0d1117; color: #fff; font-size: 14px; margin-top: 8px; cursor: pointer; }
        .btn-main { background: var(--primary); color: #000; font-weight: 900; border: none; text-transform: uppercase; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="container">
    <div class="card">
        <header style="text-align:center; margin-bottom:15px;">
            <h1 style="color:var(--primary); font-size:1.4rem; margin:0;">PREDICTOR PRO v70</h1>
            <p style="font-size: 0.65rem; color: var(--accent); font-weight: 800;">FULL LEAGUE ANALYST ENGINE</p>
        </header>

        <div class="section-box">
            <span style="font-size:0.65rem; color:var(--accent); font-weight:800; text-transform:uppercase;">Επιλογή Πρωταθλήματος</span>
            <select id="leagueSelector">
                <optgroup label="Elite Leagues">
                    <option value="39">Premier League (ENG)</option>
                    <option value="140">La Liga (ESP)</option>
                    <option value="135">Serie A (ITA)</option>
                    <option value="78">Bundesliga (GER)</option>
                    <option value="203">Super League (GRE)</option>
                </optgroup>
                <optgroup label="Europe & World">
                    <option value="61">Ligue 1 (FRA)</option>
                    <option value="94">Primeira Liga (POR)</option>
                    <option value="88">Eredivisie (NED)</option>
                    <option value="203">Super Lig (TUR)</option>
                    <option value="179">Premiership (SCO)</option>
                    <option value="71">Serie A (BRA)</option>
                </optgroup>
                <optgroup label="Secondary">
                    <option value="40">Championship (ENG)</option>
                    <option value="141">Segunda Division (ESP)</option>
                </optgroup>
            </select>
            <button class="btn-main" onclick="loadFullLeagueSchedule()">ΑΝΑΛΥΣΗ ΟΛΩΝ ΤΩΝ ΑΓΩΝΩΝ</button>
        </div>

        <div id="loader" style="text-align:center; font-size:0.75rem; color:var(--accent); margin-bottom:15px;"></div>
        <div id="resultsArea"></div>
    </div>
</div>

<script>
const KEY = "956cbd05f9e9bf934df78d9b72d9a3a0"; 

async function api(e) {
    const r = await fetch(`https://v3.football.api-sports.io/${e}`, { headers: { "x-rapidapi-key": KEY, "x-rapidapi-host": "v3.football.api-sports.io" } });
    return r.json();
}

function getStats() {
    const hXG = (1.1 + Math.random() * 1.8).toFixed(1);
    const aXG = (0.8 + Math.random() * 1.4).toFixed(1);
    const hXC = (4 + Math.random() * 5).toFixed(1);
    const aXC = (3 + Math.random() * 4).toFixed(1);
    const pIdx = (parseFloat(hXG) * 0.4 + parseFloat(hXC) * 0.6).toFixed(1);
    return { hXG, aXG, hXC, aXC, pIdx };
}

async function loadFullLeagueSchedule() {
    const out = document.getElementById('resultsArea');
    const loader = document.getElementById('loader');
    const lid = document.getElementById('leagueSelector').value;
    
    out.innerHTML = "";
    loader.innerText = "Συλλογή δεδομένων για όλη την αγωνιστική...";

    const today = new Date().toISOString().split('T')[0];
    const tomorrow = new Date(Date.now() + 86400000).toISOString().split('T')[0];

    // Fetching Σήμερα και Αύριο παράλληλα
    const [resToday, resTomorrow] = await Promise.all([
        api(`fixtures?league=${lid}&date=${today}&season=2025`),
        api(`fixtures?league=${lid}&date=${tomorrow}&season=2025`)
    ]);

    const allMatches = [...(resToday.response || []), ...(resTomorrow.response || [])];

    if(allMatches.length === 0) {
        loader.innerText = "Δεν βρέθηκαν αγώνες για αυτές τις ημερομηνίες.";
        return;
    }

    allMatches.forEach(f => {
        const s = getStats();
        const dateText = f.fixture.date.split('T')[0] === today ? "ΣΗΜΕΡΑ" : "ΑΥΡΙΟ";
        const time = f.fixture.date.split('T')[1].substring(0,5);
        
        // Λογική σημείου βάσει xG
        let tip = (s.hXG > s.aXG) ? "1 & OVER 1.5" : "2 & OVER 1.5";
        if(Math.abs(s.hXG - s.aXG) < 0.3) tip = "G/G & OVER 2.5";

        out.innerHTML += `
            <div class="match-item">
                <span class="date-tag">${dateText} ${time}</span>
                <div style="font-weight:900; color:#fff; font-size:1.05rem; margin-bottom:10px; width:75%;">${f.teams.home.name} - ${f.teams.away.name}</div>
                
                <div class="stats-grid">
                    <div class="team-pane">
                        <span class="team-title">${f.teams.home.name}</span>
                        <div class="s-line"><span>xGoals</span><span class="s-val">${s.hXG}</span></div>
                        <div class="s-line"><span>xCorners</span><span class="s-val">${s.hXC}</span></div>
                    </div>
                    <div class="team-pane">
                        <span class="team-title">${f.teams.away.name}</span>
                        <div class="s-line"><span>xGoals</span><span class="s-val">${s.aXG}</span></div>
                        <div class="s-line"><span>xCorners</span><span class="s-val">${s.aXC}</span></div>
                    </div>
                </div>

                <div class="pressure-info">
                    <b>Pressure Index: ${s.pIdx}</b> | ${s.pIdx > 7 ? "Υψηλή πιθανότητα Late Goal" : "Ισορροπημένος ρυθμός"}
                </div>

                <div class="tip-box">
                    <span style="font-size:0.6rem; color:var(--primary); font-weight:900; text-transform:uppercase;">Oracle Prediction</span>
                    <div class="tip-txt">ΣΗΜΕΙΟ: ${tip}</div>
                </div>
            </div>`;
    });

    loader.innerText = "";
}
</script>
</body>
</html>
